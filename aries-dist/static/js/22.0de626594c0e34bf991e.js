webpackJsonp([22],{"5KjQ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("woOf"),l=r.n(i),s=r("Dd8w"),n=r.n(s),a=r("NYxO"),o={name:"ServiceList",data:function(){return{loading:!1,currentPage:1,serviceForm:{zkClusterId:""},inputRules:{zkClusterId:[{required:!0,message:"请输入集群名称",trigger:"blur"}]}}},mounted:function(){if(this.clusterOption.length<=0){this.initializeData({vm:this})}},computed:n()({},Object(a.d)({serviceList:function(e){return e.service.serviceList},serviceTotal:function(e){return e.service.serviceTotal},classify:function(e){return e.service.classify},clusterOption:function(e){return e.service.clusterOption}})),methods:n()({},Object(a.b)("service",["initializeData","serviceFind"]),{handleCurrentChange:function(e){this.currentPage=e},search:function(e){this.serviceForm.zkClusterId?(this.loading=!0,"search"===e&&(this.currentPage=1),this.serviceFind([this,this.serviceForm])):this.$message({message:"带*的值不能为空！",type:"warning"})},cellClick:function(e,t,r,i){},handleDetail:function(e,t){var r=t.zkClusterId,i=t.serName,s=t.appName,n=l()({},{zkClusterId:r,name:i,appliName:s});this.$router.push({name:e,params:n})}})},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ServiceList"},[r("div",{staticClass:"button-group"},[r("span",{staticClass:"route-name"},[e._v(e._s(e.$route.meta.title))])]),e._v(" "),r("el-form",{ref:"serviceForm",attrs:{model:e.serviceForm,rules:e.inputRules,"label-width":"92px","label-position":"right",size:"small"}},[r("el-row",{staticClass:"label-first",attrs:{gutter:20}},[r("el-col",{attrs:{xl:4,lg:6}},[r("el-form-item",{attrs:{label:e.$t("redis.redisList.clusterName")+"：",prop:"zkClusterId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:e.$t("common.pleaseChoose")},model:{value:e.serviceForm.zkClusterId,callback:function(t){e.$set(e.serviceForm,"zkClusterId",t)},expression:"serviceForm.zkClusterId"}},e._l(e.clusterOption,function(e){return r("el-option",{key:e.id,attrs:{label:e.pkDesc,value:e.pkValue}})}))],1)],1),e._v(" "),r("el-col",{attrs:{xl:4,lg:6}},[r("el-form-item",{attrs:{label:e.$t("service.serviceList.applyName")+"：","label-width":"68px"}},[r("el-input",{attrs:{type:"text",clearable:""},model:{value:e.serviceForm.appName,callback:function(t){e.$set(e.serviceForm,"appName","string"==typeof t?t.trim():t)},expression:"serviceForm.appName"}})],1)],1),e._v(" "),r("el-col",{attrs:{xl:4,lg:6,align:"left"}},[r("el-form-item",{attrs:{"label-width":"0px"}},[r("el-button",{attrs:{icon:"el-icon-search",type:"primary",loading:e.loading,size:"small"},on:{click:function(t){e.search("search")}}},[e._v(e._s(e.$t("common.search")))])],1)],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.serviceList[e.currentPage-1]},on:{"cell-click":e.cellClick}},[r("el-table-column",{attrs:{align:"center",prop:"serName",width:"400","show-overflow-tooltip":"",label:e.$t("service.serviceList.serviceName")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.serName)+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"appName","show-overflow-tooltip":"",label:e.$t("service.serviceList.applyName"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("filterEmpty")(t.row.appName))+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"providerCount",label:e.$t("service.serviceList.provide")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){e.handleDetail("provider",t.row)}}},[e._v(e._s(t.row.providerCount))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"consumerCount",label:e.$t("service.serviceList.consumer")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){e.handleDetail("consumer",t.row)}}},[e._v(e._s(t.row.consumerCount))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"routerCount",label:e.$t("service.serviceList.routingRule")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){e.handleDetail("routingRule",t.row)}}},[e._v(e._s(t.row.routerCount))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"configuratorCount",label:e.$t("service.serviceList.tmconfig")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){e.handleDetail("tmconfig",t.row)}}},[e._v(e._s(t.row.configuratorCount))])]}}])})],1),e._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",background:"",total:e.serviceTotal},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var u=r("VU/8")(o,c,!1,function(e){r("sEQ/")},"data-v-8d90b3f2",null);t.default=u.exports},"sEQ/":function(e,t){}});