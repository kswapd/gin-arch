webpackJsonp([61],{Bmip:function(t,e){},FfDR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),i=a("exGp"),s=a.n(i),o=a("Dd8w"),u=a.n(o),c=a("NYxO"),l={data:function(){return{list:[],isLoading:!1,currentPage:1,pageSize:10}},methods:u()({},Object(c.b)("druid",["findDruidData","updateDruidStatus"]),{handleCurrentChange:function(t){this.currentPage=t},handleSizeChange:function(t){this.pageSize=t},getList:function(){var t=this;return s()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t).isLoading=!0,e.next=4,a.findDruidData().then(function(t){t&&t.data&&"0000"===t.code?a.list=t.data||[]:a.$message.error(t&&t.message||"druid错误")}).catch(function(t){a.$message.error(t&&t.message||"druid错误")});case 4:a.isLoading=!1;case 5:case"end":return e.stop()}},e,t)}))()},check:function(t){this.$router.push({path:"/druid/druidmonitor",query:{group:t.group,ip:t.ip,status:t.status,port:t.port}})},modify:function(t){var e=this;e.isLoading=!0,e.updateDruidStatus({status:t.status,group:t.group}).then(function(t){"0000"===t.code?(e.$message.success("修改成功"),e.getList()):e.$message.error(t.message||"修改失败")}).catch(function(t){e.$message.error(t&&t.data&&t.data.message||"修改失败")})}}),created:function(){this.getList()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"button-group"},[a("span",{staticClass:"route-name"},[t._v(t._s(t.$route.meta.title))])]),t._v(" "),a("div",[a("div",[a("el-button",{staticClass:"el-icon-refresh",staticStyle:{"font-size":"24px",float:"right"},attrs:{type:"text",title:"刷新"},on:{click:t.getList}}),t._v(" "),a("div",{staticStyle:{clear:"both"}})],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],attrs:{data:t.list.slice((t.currentPage-1)*t.pageSize,t.currentPage*t.pageSize),width:"100%",stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"group",label:"应用组"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip",label:"IP"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"port",label:"端口"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"开关状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":"ON","inactive-value":"OFF","active-text":"ON","inactive-text":"OFF"},on:{change:function(a){t.modify(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("common.operation"),align:"center",fixed:"right",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{disabled:"OFF"===e.row.status,type:"text",size:"mini",icon:"el-icon-share"},on:{click:function(a){t.check(e.row)}}},[t._v("查看监控")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.list.length},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange,"update:currentPage":function(e){t.currentPage=e}}})],1)])},staticRenderFns:[]};var g=a("VU/8")(l,d,!1,function(t){a("Bmip")},"data-v-049529f1",null);e.default=g.exports}});