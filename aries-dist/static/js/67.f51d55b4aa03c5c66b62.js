webpackJsonp([67],{Ac61:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("Xxa5"),r=o.n(n),a=o("exGp"),i=o.n(a),c=o("Dd8w"),l=o.n(c),s=o("NYxO"),p={data:function(){return{projectVisible:!1,projectForm:{},currentPage:1,pageSize:10,appId:"",loading:!1,projectFormRules:{appId:[{required:!0,message:"请输入应用ID",trigger:"blur"}],name:[{required:!0,message:"请输入应用名称",trigger:"blur"}]}}},computed:l()({},Object(s.d)({project:function(e){return e.config.project}})),mounted:function(){this.getProjectList(this)},methods:l()({},Object(s.b)("config",["getProjectList","createProject","delProject"]),{view:function(e){this.$router.push({name:"configDetail",params:{id:e.appId},query:{appId:e.appId}})},handleCurrentChange:function(e){this.currentPage=e,this.getProjectList(this)},onCancel:function(){this.$refs.projectForm.resetFields(),this.projectVisible=!1},onSubmit:function(){var e,t=this,o=this;o.$refs.projectForm.validate((e=i()(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return o.loading=!0,e.next=4,o.createProject(o);case 4:(a=e.sent)&&200===a.code?(o.$message({type:"success",message:"创建成功"}),o.getProjectList(o),o.projectVisible=!1):o.loading=!1;case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},deleteProject:function(e){var t=this;t.appId=e,t.$confirm("是否确认删除"+e+"？","删除",{confirmButtonText:t.$t("common.ok"),cancelButtonText:t.$t("common.cancel"),type:"warning",center:!0}).then(function(){t.loading=!0,t.delProject(t)}).catch(function(){})}})},u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"config-main"},[o("div",{staticClass:"button-group"},[o("span",{staticClass:"route-name"},[e._v(e._s(e.$route.meta.title))]),e._v(" "),o("el-button",{attrs:{size:"small",icon:"el-icon-plus",type:"warning"},on:{click:function(t){e.projectVisible=!0}}},[e._v("添加")])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.project.list,stripe:""}},[o("el-table-column",{attrs:{prop:"appId",label:"AppId"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"应用名"}}),e._v(" "),o("el-table-column",{attrs:{width:"200",label:e.$t("common.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"mini",icon:"fa fa-eye"},on:{click:function(o){e.view(t.row)}}},[e._v("查看")]),e._v(" "),o("el-button",{staticClass:"btn-text-red",attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(o){e.deleteProject(t.row.appId)}}},[e._v(e._s(e.$t("common.delete")))])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.project.total},on:{"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{visible:e.projectVisible,width:"35%",title:"添加项目",center:""},on:{"update:visible":function(t){e.projectVisible=t},close:e.onCancel}},[o("el-form",{ref:"projectForm",attrs:{model:e.projectForm,rules:e.projectFormRules,"label-width":"120px"}},[o("el-form-item",{attrs:{prop:"appId",label:"应用ID"}},[o("el-input",{attrs:{maxlength:"30"},model:{value:e.projectForm.appId,callback:function(t){e.$set(e.projectForm,"appId","string"==typeof t?t.trim():t)},expression:"projectForm.appId"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"name",label:"应用名称"}},[o("el-input",{attrs:{maxlength:"30"},model:{value:e.projectForm.name,callback:function(t){e.$set(e.projectForm,"name","string"==typeof t?t.trim():t)},expression:"projectForm.name"}})],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.onSubmit}},[e._v(e._s(e.$t("common.ok")))]),e._v(" "),o("el-button",{attrs:{disabled:e.loading},on:{click:e.onCancel}},[e._v(e._s(e.$t("common.cancel")))])],1)],1)],1)},staticRenderFns:[]},m=o("VU/8")(p,u,!1,null,null,null);t.default=m.exports}});