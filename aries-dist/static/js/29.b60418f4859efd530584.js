webpackJsonp([29],{"3CV7":function(t,e){},wAIi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),o=a("woOf"),l=a.n(o),n=a("ZlkZ"),r={data:function(){return{pageNo:1,limit:10,total:0,versionOptions:[],versionIncrOptions:[],ipOptions:[],coreForm:{},tableList:[],idx:-1,addVisible:!1,radio:"1",ifShow:!1,inputRules:{name:[{required:!0,message:"请输入版本名称"}],installName:[{required:!0,message:"请输入安装名"}],installPath:[{required:!0,message:"请输入安装路径"}],ip:[{required:!0,message:"请输入Ip"}],versionNo:[{required:!0,message:"请输入版本号"}]},loading:!1,listForm:{},listTitle:"",isStatus:!1,tableVal:[],versionDialog:{newVersionNum:"",isBackup:""},versionDialogVisible:!1}},computed:{},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$axios.all([this.$axios.post(n.a.coreVersionNoCombox,{moType:"Connector",fileType:"FULL"}),this.$axios.post(n.a.hostSearchIpList,{moType:"Connector"}),this.$axios.post(n.a.coreVersionNoCombox,{moType:"Connector",fileType:"INCR"})]).then(this.$axios.spread(function(e,a,s){var i=e.data.map(function(t){return{value:t.pkValue,label:t.pkDesc}});t.versionOptions=i;var o=a.data.map(function(t){return{value:t.pkValue,label:t.pkDesc}});t.ipOptions=o,t.versionIncrOptions=s.data})),this.pageNo=1,this.limit=10,this.search()},handleCurrentChange:function(t){this.pageNo=t,this.search()},search:function(t){var e=this;this.loading=!0;var a=this.coreForm,s=a.name,o=a.ip,r=l()({},{pageNo:this.pageNo,limit:this.limit,baseParam:{moType:"Connector",name:s,ip:o}});this.$axios.post(n.a.coreNodeFind,r).then(function(a){"search"===t&&e.$message.success("查询成功");var s=JSON.parse(i()(a.data));e.tableList=s.data,Array.isArray(s.data)&&s.data.length>0&&e.refresh(s.data),e.total=s.recordsTotal,e.loading=!1}).catch(function(t){e.loading=!1,e.$message.error(t&&t.data&&t.data.message||"ERROR")})},refresh:function(t,e){var a=this,s=JSON.parse(i()(t)),o=void 0,l=[];if(Array.isArray(t))o=JSON.parse(i()(t)),s.forEach(function(t){var e=t.deployId;l.push({deployId:e})});else{o=JSON.parse(i()(this.tableList));var r=s.deployId;l.push({deployId:r})}this.loading=!0,this.$axios.post(n.a.coreAppStatus,l).then(function(t){"0000"===t.code&&(o.map(function(e){t.data.forEach(function(t){return t.deployId===e.deployId?(e.status=t.status,e):e})}),a.loading=!1,a.tableList=o,"search"===e&&a.$message.success("刷新成功"))}).catch(function(t){a.loading=!1,a.$message.error(t&&t.data&&t.data.message||"ERROR")})},handleAddEdit:function(t,e){"添加网关实例"===t&&(this.listTitle=t,this.isStatus=!1,this.listForm={status:"UNINSTALL"}),"修改网关实例"===t&&(this.listTitle=t,"UNINSTALL"===e.status?this.isStatus=!1:this.isStatus=!0,this.listForm=JSON.parse(i()(e))),this.addVisible=!0},saveAddEdit:function(){var t=this,e=JSON.parse(i()(this.listForm)),a=e.deployId,s=e.name,o=e.ip,r=e.installName,c=e.installPath,p=e.versionNo,m=e.remark,d=e.status,u=l()({},{deployId:a,name:s,ip:o,installName:r,installPath:c,versionNo:p,remark:m,status:d});if(u.moType="Connector","添加网关实例"===this.listTitle){if(delete u.deployId,!(s&&o&&r&&c&&p&&d))return this.$message({message:"带*值不能为空",type:"warning"}),!1;this.loading=!0,this.$axios.post(n.a.coreNodeAdd,u).then(function(e){"0000"===e.code?(t.search(),t.$message.success("新增成功"),t.addVisible=!1):t.loading=!1}).catch(function(e){t.loading=!1,t.$message.error(e&&e.data&&e.data.message||"ERROR")})}if("修改网关实例"===this.listTitle){if(delete u.status,!(s&&o&&r&&c&&p))return this.$message({message:"带*值不能为空",type:"warning"}),!1;this.loading=!0,this.$axios.post(n.a.coreNodeModify,u).then(function(e){"0000"===e.code&&(t.search(),t.$message.success("编辑成功"),t.addVisible=!1)}).catch(function(e){t.loading=!1,t.$message.error(e&&e.data&&e.data.message||"ERROR")})}},cancel:function(){this.addVisible=!1,this.$refs.listForm.resetFields()},versionDialogHandle:function(t){var e=this,a=JSON.parse(i()(t));this.versionDialog=l()({newVersionNum:"",isBackup:"true"},a),this.$nextTick(function(){e.versionDialogVisible=!0})},versionDialogAdd:function(){var t=this,e=this.versionDialog,a=e.newVersionNum,s=e.isBackup,i=e.versionNo;return""===a?(this.$message({message:"版本号不得为空",type:"warning"}),!1):a===i?(this.$message({message:"版本号重复，请重新选择",type:"warning"}),!1):(this.loading=!0,void this.$axios({method:"post",url:n.a.coreAppInstallIncr,params:{newVersionNum:a,isBackup:s},data:this.versionDialog}).then(function(e){t.versionDialogVisible=!1,"0000"===e.code&&(t.$message({message:"增量部署成功",type:"success"}),t.search())}).catch(function(e){t.loading=!1,t.$message.error(e&&e.data&&e.data.message||"ERROR")}))},versionDialogCancel:function(){this.versionDialogVisible=!1},handleInstall:function(t){var e=this;this.conmmonMethods.makePopBox(this,"部署节点").then(function(){var a=void 0,s=void 0,o="";if(t){a={};var r=JSON.parse(i()(t)),c=r.deployId,p=r.moType,m=r.ip,d=r.installName,u=r.installPath,h=r.versionNo;a=l()({},{deployId:c,moType:p,ip:m,installName:d,installPath:u,versionNo:h}),s=n.a.coreAppInstall}else Array.isArray(e.tableVal)&&(a=[],s=n.a.coreAppBatchInstall,e.tableVal.forEach(function(t){var e=t.name,s=t.deployId,i=t.moType,l=t.ip,n=t.installName,r=t.installPath,c=t.versionNo;"UNINSTALL"===t.status?a.push({deployId:s,moType:i,ip:l,installName:n,installPath:r,versionNo:c}):o+=e+"、"}));if(o.length>0)return e.$message({message:"节点名称："+o.slice(0,o.length-1)+"不符合该操作，请重新选择",type:"warning"}),!1;e.loading=!0,e.$axios.post(s,a).then(function(t){"0000"===t.code&&(e.$message({message:"部署成功",type:"success"}),e.search())}).catch(function(t){e.loading=!1,e.$message.error(t&&t.data&&t.data.message||"ERROR")})})},handleUninstall:function(t){var e=this;this.conmmonMethods.makePopBox(this,"卸载节点").then(function(){var a=void 0,s=void 0,o="";if(t){a={};var r=JSON.parse(i()(t)),c=r.deployId,p=r.ip,m=r.installName,d=r.installPath,u=r.versionNo,h=r.moType;a=l()({},{deployId:c,ip:p,installName:m,installPath:d,versionNo:u,moType:h}),s=n.a.coreAppUninstall}else Array.isArray(e.tableVal)&&(a=[],s=n.a.coreAppBatchUninstall,e.tableVal.forEach(function(t){var e=t.name,s=t.deployId,i=t.ip,l=t.installName,n=t.installPath,r=t.status,c=t.versionNo,p=t.moType;"INSTALL"===r||"STOPPED"===r?a.push({deployId:s,ip:i,installName:l,installPath:n,versionNo:c,moType:p}):o+=e+"、"}));if(o.length>0)return e.$message({message:"节点名称："+o.slice(0,o.length-1)+"不符合该操作，请重新选择",type:"warning"}),!1;e.loading=!0,e.$axios.post(s,a).then(function(t){"0000"===t.code?(e.$message({message:"卸载成功",type:"success"}),e.search()):e.loading=!1}).catch(function(t){e.loading=!1,e.$message.error(t&&t.data&&t.data.message||"ERROR")})})},handleStart:function(t){var e=this;this.conmmonMethods.makePopBox(this,"启动节点").then(function(){var a=void 0,s=void 0,o="";if(t){a={};var r=JSON.parse(i()(t)),c=r.moType,p=r.ip,m=r.installName,d=r.installPath;a=l()({},{moType:c,ip:p,installName:m,installPath:d}),s=n.a.coreAppStart}else Array.isArray(e.tableVal)&&(a=[],s=n.a.coreAppBatchStart,e.tableVal.forEach(function(t){var e=t.moType,s=t.name,i=t.ip,l=t.installName,n=t.installPath,r=t.status;"INSTALL"===r||"STOPPED"===r?a.push({moType:e,ip:i,installName:l,installPath:n}):o+=s+"、"}));if(o.length>0)return e.$message({message:"节点名称："+o.slice(0,o.length-1)+"不符合该操作，请重新选择",type:"warning"}),!1;e.loading=!0,e.$axios.post(s,a).then(function(t){"0000"===t.code&&(e.$message({message:"启动成功",type:"success"}),e.search())}).catch(function(t){e.loading=!1,e.$message.error(t&&t.data&&t.data.message||"ERROR")})})},handleStop:function(t){var e=this;this.conmmonMethods.makePopBox(this,"停止节点").then(function(){var a=void 0,s=void 0,o="";if(t){var r=JSON.parse(i()(t)),c=r.moType,p=r.ip,m=r.installName,d=r.installPath;a=l()({},{moType:c,ip:p,installName:m,installPath:d}),s=n.a.coreAppStop}else Array.isArray(e.tableVal)&&(a=[],s=n.a.coreAppBatchStop,e.tableVal.forEach(function(t){var e=t.moType,s=t.name,i=t.ip,l=t.installName,n=t.installPath;"RUNNING"===t.status?a.push({moType:e,ip:i,installName:l,installPath:n}):o+=s+"、"}));if(o.length>0)return e.$message({message:"节点名称："+o.slice(0,o.length-1)+"不符合该操作，请重新选择",type:"warning"}),!1;e.loading=!0,e.$axios.post(s,a).then(function(t){"0000"===t.code&&(e.$message({message:"停止成功",type:"success"}),e.search())}).catch(function(t){e.loading=!1,e.$message.error(t&&t.data&&t.data.message||"ERROR")})})},deleteRow:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.conmmonMethods.makePopBox(this,"删除").then(function(){if(e){var a=e.deployId;"UNINSTALL"===e.status?(t.loading=!0,t.$axios.delete(n.a.coreNodeDelete+a).then(function(e){"0000"===e.code&&(t.search(),t.$message.success("删除成功"))}).catch(function(e){t.loading=!1,t.$message.error(e&&e.data&&e.data.message||"ERROR")})):t.$message({message:"未部署的节点才能被删除",type:"warning"})}else{var s=[],i="";if(t.tableVal.forEach(function(t){var e=t.name,a=t.deployId;"UNINSTALL"===t.status?s.push({deployId:a}):i+=e+"、"}),i.length>0)return t.$message({message:"节点名称："+i.slice(0,i.length-1)+"不符合该操作，请重新选择",type:"warning"}),!1;t.loading=!0,t.$axios.post(n.a.coreNodeBatchDelete,s).then(function(e){t.$message.success("删除成功"),t.search()}).catch(function(e){t.loading=!1,t.$message.error(e&&e.data&&e.data.message||"ERROR")})}})},moniter:function(t){var e={moType:"Connector",ip:t.row.ip,path:t.row.installPath+"/"+t.row.installName};this.$router.push({name:"coreAppEcharts",query:e,params:{id:t.row.ip}})},handleSelectionChange:function(t){this.tableVal=t},radioChange:function(t){this.listForm.status=t},ipSearch:function(t,e){var a=this.ipOptions;e(t?a.filter(function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}):a)},versionSearch:function(t,e){var a=this.versionOptions;e(t?a.filter(function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}):a)}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"button-group"},[a("span",{staticClass:"route-name"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"warning"},on:{click:function(e){t.handleAddEdit("添加网关实例")}}},[t._v(t._s(t.$t("common.add")))]),t._v(" "),0!==t.tableVal.length?a("div",{staticClass:"inline-block ml-10"},[a("el-button",{attrs:{type:"primary",size:"small",loading:t.loading,icon:"fa fa-plane"},on:{click:function(e){t.handleInstall()}}},[t._v(t._s(t.$t("common.deploy")))]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",loading:t.loading,icon:"fa fa-link"},on:{click:function(e){t.handleUninstall()}}},[t._v(t._s(t.$t("common.unload")))]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",loading:t.loading,icon:"fa fa-play"},on:{click:function(e){t.handleStart()}}},[t._v(t._s(t.$t("common.start")))]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",loading:t.loading,icon:"fa fa-stop"},on:{click:function(e){t.handleStop()}}},[t._v(t._s(t.$t("common.stop")))]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",loading:t.loading,icon:"el-icon-delete"},on:{click:function(e){t.deleteRow()}}},[t._v(t._s(t.$t("common.delete")))])],1):t._e()],1),t._v(" "),a("el-form",{ref:"listForm",attrs:{model:t.listForm,rules:t.inputRules,"label-position":"right","status-icon":"","label-width":"86px",size:"small"}},[a("el-row",{staticClass:"label-first",attrs:{gutter:20}},[a("el-col",{attrs:{xl:4,lg:6}},[a("el-form-item",{attrs:{label:t.$t("coreApp.tableList.nodeName")+"："}},[a("el-input",{attrs:{type:"text",maxlength:"100",clearable:""},model:{value:t.coreForm.name,callback:function(e){t.$set(t.coreForm,"name","string"==typeof e?e.trim():e)},expression:"coreForm.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{xl:4,lg:6}},[a("el-form-item",{attrs:{label:t.$t("coreApp.tableList.ip")+"："}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{maxlength:"15","fetch-suggestions":t.ipSearch},model:{value:t.coreForm.ip,callback:function(e){t.$set(t.coreForm,"ip","string"==typeof e?e.trim():e)},expression:"coreForm.ip"}})],1)],1),t._v(" "),a("el-col",{attrs:{xl:4,lg:6}},[a("el-button",{attrs:{size:"small",loading:t.loading,type:"primary",icon:"el-icon-search"},on:{click:function(e){t.search("search")}}},[t._v(t._s(t.$t("common.search")))])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableList},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:t.$t("coreApp.tableList.nodeName"),width:"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:t.$t("service.provider.status"),width:"135"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:t._f("filterAppStatusColor")(e.row.status)},["UNINSTALL"!==e.row.status?a("i",{staticClass:"fa fa-lightbulb-o name-state"}):t._e(),t._v(t._s(t._f("filterAppStatus")(e.row.status)))]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"fa fa-refresh"},on:{click:function(a){t.refresh(e.row,"search")}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip",label:t.$t("coreApp.tableList.ip"),width:"130"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"installName",label:t.$t("coreApp.tableList.installName"),width:"150"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"installPath",label:t.$t("coreApp.tableList.path"),width:"160"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"versionNo",label:t.$t("coreApp.tableList.versionNum"),width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("host.watch"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small",icon:"fa fa-bar-chart"},on:{click:function(a){t.moniter(e)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:t.$t("coreApp.tableVersion.desc"),"show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("common.operation"),fixed:"right",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{attrs:{type:"text",size:"mini"}},[t._v("\n            操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(a){t.handleAddEdit("修改网关实例",e.row)}}},[t._v(t._s(t.$t("common.edit")))])],1),t._v(" "),a("el-dropdown-item",["UNINSTALL"===e.row.status?a("el-button",{staticClass:"btn-text-red",attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){t.deleteRow(e.row)}}},[t._v(t._s(t.$t("common.delete")))]):t._e()],1),t._v(" "),a("el-dropdown-item",["UNINSTALL"===e.row.status?a("el-button",{attrs:{type:"text",icon:"fa fa-plane",size:"mini"},on:{click:function(a){t.handleInstall(e.row)}}},[t._v(t._s(t.$t("common.deploy")))]):t._e()],1),t._v(" "),a("el-dropdown-item",["INSTALL"===e.row.status||"STOPPED"===e.row.status?a("el-button",{attrs:{icon:"fa fa-link",type:"text",size:"mini"},on:{click:function(a){t.handleUninstall(e.row)}}},[t._v(t._s(t.$t("common.unload")))]):t._e()],1),t._v(" "),a("el-dropdown-item",["INSTALL"===e.row.status||"STOPPED"===e.row.status?a("el-button",{attrs:{icon:"fa fa-play",type:"text",size:"mini"},on:{click:function(a){t.handleStart(e.row)}}},[t._v(t._s(t.$t("common.start")))]):t._e()],1),t._v(" "),a("el-dropdown-item",["RUNNING"===e.row.status?a("el-button",{staticClass:"btn-text-red",attrs:{type:"text",icon:"fa fa-stop",size:"mini"},on:{click:function(a){t.handleStop(e.row)}}},[t._v(t._s(t.$t("common.stop")))]):t._e()],1),t._v(" "),a("el-dropdown-item",["INSTALL"===e.row.status||"STOPPED"===e.row.status?a("el-button",{staticClass:"btn-text-red",attrs:{type:"text",icon:"fa fa-rocket",size:"mini"},on:{click:function(a){t.versionDialogHandle(e.row)}}},[t._v("增量部署")]):t._e()],1)],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.pageNo,"page-size":10,layout:"total, prev, pager, next, jumper",background:"",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.listTitle,visible:t.addVisible,width:"40%",center:""},on:{close:t.cancel,"update:visible":function(e){t.addVisible=e}}},[a("el-form",{ref:"listForm",attrs:{model:t.listForm,rules:t.inputRules,"status-icon":"","label-width":"100px",size:"small"}},["添加网关实例"===t.listTitle?a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-radio-group",{on:{change:t.radioChange},model:{value:t.listForm.status,callback:function(e){t.$set(t.listForm,"status",e)},expression:"listForm.status"}},[a("el-radio",{attrs:{label:"UNINSTALL"}},[t._v("未部署")]),t._v(" "),a("el-radio",{attrs:{label:"INSTALL"}},[t._v("已部署")])],1)],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:t.$t("coreApp.tableList.nodeName"),prop:"name"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"text",placeholder:"请输入1-50位字符",maxlength:"50",clearable:""},model:{value:t.listForm.name,callback:function(e){t.$set(t.listForm,"name","string"==typeof e?e.trim():e)},expression:"listForm.name"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("coreApp.tableList.installName"),prop:"installName"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:t.isStatus,type:"text",placeholder:"请输入1-50位字符",maxlength:"50",clearable:""},model:{value:t.listForm.installName,callback:function(e){t.$set(t.listForm,"installName","string"==typeof e?e.trim():e)},expression:"listForm.installName"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("coreApp.tableList.path"),prop:"installPath"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{disabled:t.isStatus,clearable:"",type:"text",placeholder:"请输入1-200位字符",maxlength:"200"},model:{value:t.listForm.installPath,callback:function(e){t.$set(t.listForm,"installPath","string"==typeof e?e.trim():e)},expression:"listForm.installPath"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"ip",label:t.$t("coreApp.tableList.ip")}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{placeholder:"请输入1-15位字符",maxlength:"15","fetch-suggestions":t.ipSearch,disabled:t.isStatus},model:{value:t.listForm.ip,callback:function(e){t.$set(t.listForm,"ip","string"==typeof e?e.trim():e)},expression:"listForm.ip"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"versionNo",label:t.$t("coreApp.tableList.versionNum")}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{placeholder:"请输入1-15位字符",maxlength:"15","fetch-suggestions":t.versionSearch,disabled:t.isStatus},model:{value:t.listForm.versionNo,callback:function(e){t.$set(t.listForm,"versionNo","string"==typeof e?e.trim():e)},expression:"listForm.versionNo"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("coreApp.tableVersion.desc")}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入1-100位字符",maxlength:"100"},model:{value:t.listForm.remark,callback:function(e){t.$set(t.listForm,"remark","string"==typeof e?e.trim():e)},expression:"listForm.remark"}})],1)],1)],1)],1),t._v(" "),a("sub-template",{attrs:{"handle-flag":!0}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:t.loading,type:"primary",size:"small"},on:{click:t.saveAddEdit}},[t._v(t._s(t.$t("common.ok")))]),t._v(" "),a("el-button",{attrs:{disabled:t.loading,size:"small"},on:{click:function(e){t.cancel()}}},[t._v(t._s(t.$t("common.cancel")))])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"增量部署",visible:t.versionDialogVisible,width:"40%",center:""},on:{close:t.versionDialogCancel,"update:visible":function(e){t.versionDialogVisible=e}}},[a("el-form",{ref:"versionDialog",attrs:{model:t.versionDialog,"status-icon":"","label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"版本号："}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:t.versionDialog.newVersionNum,callback:function(e){t.$set(t.versionDialog,"newVersionNum",e)},expression:"versionDialog.newVersionNum"}},t._l(t.versionIncrOptions,function(t){return a("el-option",{key:t.pkValue,attrs:{label:t.pkDesc,value:t.pkValue}})}))],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否备份："}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:t.versionDialog.isBackup,callback:function(e){t.$set(t.versionDialog,"isBackup",e)},expression:"versionDialog.isBackup"}},[a("el-radio",{attrs:{label:"true"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"false"}},[t._v("否")])],1)],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:t.loading,type:"primary",size:"small"},on:{click:function(e){t.versionDialogAdd()}}},[t._v(t._s(t.$t("common.ok")))]),t._v(" "),a("el-button",{attrs:{disabled:t.loading,size:"small"},on:{click:function(e){t.versionDialogCancel()}}},[t._v(t._s(t.$t("common.cancel")))])],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(r,c,!1,function(t){a("3CV7")},"data-v-647a0715",null);e.default=p.exports}});