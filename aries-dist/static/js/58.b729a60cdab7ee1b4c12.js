webpackJsonp([58],{"4RJl":function(a,t){},fpPh:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("woOf"),s=e.n(l),r=e("Dd8w"),i=e.n(r),o=e("NYxO"),n={data:function(){return{isLoading:!1,params:{},formattedSql:"",parseColumns:[{key:"parsedTable",label:"表"},{key:"parsedFields",label:"字段"},{key:"parsedConditions",label:"条件"},{key:"parsedRelationships",label:"关联"},{key:"parsedOrderbycolumns",label:"排序字段"}],parseList:[],lastSlowColumns:[{key:"MaxTimespan",label:"最慢"},{key:"MaxTimespanOccurTime",label:"最慢发生时间"},{key:"LastSlowParameters",label:"最后慢查询参数"}],lastSlowList:[],lastErrorColumns:[{key:"LastErrorMessage",label:"最后错误信息"},{key:"LastErrorClass",label:"最后错误类"},{key:"LastErrorTime",label:"最后错误时间"},{key:"LastErrorStackTrace",label:"最后错误堆栈"}],lastErrorList:[],otherColumns:[{key:"BatchSizeMax",label:"批处理最大值"},{key:"BatchSizeTotal",label:"批处理总数"},{key:"BlobOpenCount",label:"Blob打开次数"},{key:"ClobOpenCount",label:"Clob打开数"},{key:"ReaderOpenCount",label:"reader打开次数"},{key:"InputStreamOpenCount",label:"inputstream打开次数"},{key:"ReadStringLength",label:"读取字符串长度"},{key:"ReadBytesLength",label:"读取字节长度"}],otherList:[]}},methods:i()({},Object(o.b)("druid",["sql"]),{getData:function(){var a=this;a.isLoading=!0,a.sql(a.params).then(function(t){if(t&&"0000"!==t.code)a.$message.error(t.message||"SQL错误");else{var e={},l=t.data&&t.data.Content||{};try{l=t.data&&JSON.parse(t.data).Content||{}}catch(a){}for(var s in l)e[s]=String(l[s]);a.formattedSql=e.formattedSql,a.parseList[0]=e,a.lastSlowList[0]=e,a.otherList[0]=e,a.lastErrorList[0]=e,a.isLoading=!1}}).catch(function(t){a.isLoading=!1,a.$message.error(t&&t.data&&t.data.message||"SQL错误")})}}),mounted:function(){s()(this.params,this.$route.query),this.getData()}},d={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:a.isLoading,expression:"isLoading"}]},[e("div",{staticClass:"title"}),a._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"domain"},[e("h3",[a._v("Format View:")]),a._v(" "),e("el-form",[e("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},model:{value:a.formattedSql,callback:function(t){a.formattedSql=t},expression:"formattedSql"}})],1)],1),a._v(" "),e("div",{staticClass:"domain"},[e("h3",[a._v("ParseView:")]),a._v(" "),e("gl-mail-table",{attrs:{tableData:a.parseList,columns:a.parseColumns,tableStyle:{width:"100%"},columnsStyle:{width:"25%"}}})],1),a._v(" "),e("div",{staticClass:"domain"},[e("h3",[a._v("LastSlowView:")]),a._v(" "),e("gl-mail-table",{attrs:{tableData:a.lastSlowList,columns:a.lastSlowColumns,tableStyle:{width:"100%"},columnsStyle:{width:"25%"}}})],1),a._v(" "),e("div",{staticClass:"domain"},[e("h3",[a._v("LastErrorView:")]),a._v(" "),e("gl-mail-table",{attrs:{tableData:a.lastErrorList,columns:a.lastErrorColumns,tableStyle:{width:"100%"},columnsStyle:{width:"25%"}}})],1),a._v(" "),e("div",{staticClass:"domain"},[e("h3",[a._v("OtherView:")]),a._v(" "),e("gl-mail-table",{attrs:{tableData:a.otherList,columns:a.otherColumns,tableStyle:{width:"100%"},columnsStyle:{width:"25%"}}})],1)])])},staticRenderFns:[]};var m=e("VU/8")(n,d,!1,function(a){e("4RJl")},"data-v-09bac927",null);t.default=m.exports}});