webpackJsonp([51],{"/0o+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n=a("INCx"),o=a.n(n),l={name:"dealMonitor",data:function(){return{timerFirst:null,choose:!0,data:"1024",values:"1 minute",options:[{label:"5分钟",value:100},{label:"1 minute",value:100}],first:null,second:null,third:null,four:null,boxone:null,boxTwo:null}},directives:{cardSmallResize:{inserted:function(e,t){var a=Number(t.value);e.style.height=o()(100*e.clientWidth/a)+"px",e.style.lineHeight=o()(100*e.clientWidth/a)+"px",window.addEventListener("resize",function(){e.style.lineHeight=o()(100*e.clientWidth/a)+"px",e.style.height=o()(100*e.clientWidth/a)+"px"},!1)}}},watch:{first:function(e){var t=JSON.parse(s()(e)).slice(e.length-59);this.lineHandle({id:"boxFirst",data:t,step:"end",big:null,min:50})},second:function(e){if(this.choose){var t=JSON.parse(s()(e)).slice(e.length-59);this.lineHandle({id:"boxSecond",data:t,min:t.length<13?1950:t.length>12&&t.length<16?290:0});var a=JSON.parse(s()(t)).map(function(e,t){return e.value[0]=100/e.value[0]*1e3,e});this.four=a}else{var i=JSON.parse(s()(e)).slice(e.length-59);this.lineHandle({id:"boxSecond",data:i,min:i.length<13?1950:i.length>12&&i.length<16?290:0});var n=JSON.parse(s()(i)).map(function(e,t){return e.value[0]=100/e.value[0]*1e3,e.value[1]=0===e.value[1]?0:100/e.value[1]*1e3,e.value[2]=(0===e.value[1]?100:200)/e.value[2]*1e3,e});this.four=n}},boxTwo:function(e){if(this.choose){for(var t=[],a=0;a<e[0].value.length;a++)t.push(0);t[0]=1e5,e.forEach(function(e){t[0]+=e.value[0]}),t=t.map(function(e){return o()(e)}),this.third=[{yAxisName:"PCS",xaxis:["ip1"],name:"success",data:t},{name:"failed",data:[21]},{name:"excepiton",data:[1]}]}else{for(var i=[],s=0;s<e[0].value.length;s++)i.push(0);i[0]=1e5,i[2]=1e5,e.forEach(function(e){i[0]+=e.value[0],i[1]+=e.value[1],i[2]+=e.value[2]}),i=i.map(function(e){return o()(e)}),this.third=[{yAxisName:"PCS",xaxis:["ip1","ip2","Total"],name:"success",data:i},{name:"failed",data:[21,0,21]},{name:"excepiton",data:[1,0,1]}]}},third:function(e){this.barHandle({id:"boxThird",barData:e})},four:function(e){this.lineHandle({id:"boxFour",data:e,min:e.length<16?45:0})}},mounted:function(){var e=this;this.firstHandle(),setTimeout(function(){e.choose=!1,clearInterval(e.timerFirst),e.timerFirst=null,e.firstHandle=null},1e4),setTimeout(function(){e.secondHandle()},11e3)},methods:{initEcharts:function(e,t){var a=this,i=this.$refs[e];this.$echarts.init(i).setOption(t),window.addEventListener("resize",function(){a.$echarts.init(i).resize()},!1)},firstHandle:function(){for(var e=this,t=[],a=(new Date).getTime()-61e3,i=[],s=0;s<61;s++){t.push({name:["Number of passages on the day"],time:a+1e3*s,value:[100]});var n=2021+6*Math.random();i.push({time:a+1e3*s,name:["ip1"],value:[n]})}this.first=t,this.second=i,this.boxone=[].concat(t),this.boxTwo=i,this.timerFirst=setInterval(function(){var t=(new Date).getTime();e.first.push({name:["Number of passages on the day"],time:t,value:[100]});var a=2e3+6*Math.random();e.second.push({time:t,name:["ip1"],value:[a]}),e.boxone.push({name:["Number of passages on the day"],time:t,value:[100]}),e.boxTwo.push({time:t,name:["ip1","ip2"],value:[a]})},1100)},secondHandle:function(){for(var e=this,t=[],a=(new Date).getTime()-61e3,i=[],s=0;s<61;s++){t.push({name:["Number of passages on the day"],time:a+1e3*s,value:[100]});var n=2021+6*Math.random();i.push({time:a+1e3*s,name:["ip1","ip2","Total"],value:[n,0,n]})}this.first=t,this.second=i,this.boxone=[].concat(t),this.boxTwo=i;var o=[300,800,1750,1990],l=0;setInterval(function(){var t=(new Date).getTime();e.first.push({name:["Number of passages on the day"],time:t,value:[200]});var a=2e3+6*Math.random(),i=l<3?o[l]:1990+6*Math.random();e.second.push({time:t,name:["ip1","ip2"],value:[a,i,a+i]}),e.boxone.push({name:["Number of passages on the day"],time:t,value:[200]}),e.boxTwo.push({time:t,name:["ip1","ip2"],value:[a,i,a+i]}),l++},1100)},dealAxisData:function(e){var t=this,a={xAxis:[],yAxisName:[],yAxis:[]};a.yAxisName=e[0].name;for(var i=0;i<e[0].value.length;i++)a.yAxis.push([]);return e.forEach(function(e){a.xAxis.push(t.$moment(o()(e.time)).format("HH:mm:ss")),e.value.forEach(function(e,t){a.yAxis[t].push(o()(10*e)/10)})}),a},lineHandle:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,i=void 0===a?null:a,s=t.data,n=void 0===s?null:s,o=t.chartName,l=void 0===o?"":o,r=t.step,d=void 0===r?null:r,u=t.big,h=void 0===u?null:u,c=t.min,v=void 0===c?null:c,m=["#EBA954","#67C23A"],p=[],f=h,x=this.dealAxisData(n),b=x.xAxis,g=x.yAxisName;e=b,x.yAxis.forEach(function(e,t){var a={name:g[t],type:"line",itemStyle:{color:m[t],lineStyle:{width:1}},markPoint:{data:[{name:"最大值",type:"max"},{name:"最小值",type:"min"}]},data:e};a.step=d||"",p.push(a)});var y={tooltip:{trigger:"axis"},title:{text:l,left:"left",top:0,textStyle:{color:"#000"}},legend:{data:g},xAxis:{boundaryGap:!1,type:"category",axisLine:{symbol:["none","arrow"],symbolOffset:[0,10],lineStyle:{color:"#1e98d3",width:1}},axisTick:{length:"0"},axisLabel:{color:"#1e98d3"},splitLine:{show:!1},data:e},yAxis:{type:"value",min:v,max:f,axisLine:{symbol:["none","arrow"],symbolOffset:[0,10],lineStyle:{color:"#1e98d3",width:1}},axisTick:{length:"0"},axisLabel:{formatter:"{value}",color:"#1e98d3"},splitLine:{show:!0,color:"#fefefe"}},series:p};this.initEcharts(i,y)},barHandle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=void 0===t?null:t,i=e.barData,s=void 0===i?null:i,n=e.chartName,l=void 0===n?"":n,r=["#218FF0","red","#FFBE38"],d=s[0],u=d.yAxisName,h=[],c=[],v=null,m=s[0].xaxis;s.forEach(function(e,t){var a={name:e.name,type:"bar",barWidth:"20%",itemStyle:{normal:{color:r[t]}},label:{normal:{show:!0,position:"top",formatter:"{c}"}},data:e.data};h.push(e.name),c.push(a)}),v=d.data[0];for(var p=1;p<d.data.length;p++)d.data[p]>v&&(v=d.data[p]);var f={title:{text:l,left:"left",top:0,textStyle:{color:"#000"}},grid:{top:"65",left:21+8*((v=o()(12*v/10))+"").length+"",right:"1%",bottom:"50"},tooltip:{show:!0,trigger:"axis",showDelay:0,hideDelay:50,transitionDuration:0,showContent:!0,borderRadius:8,padding:10},legend:{data:h},xAxis:{type:"category",gridIndex:0,data:m,axisPointer:{type:"shadow"},axisTick:{length:"0"},axisLabel:{rotate:0},axisLine:{show:!1}},yAxis:{type:"value",gridIndex:0,name:"unit："+u,offset:"10",min:0,max:v,axisLabel:{formatter:"{value}"},axisTick:{length:"0"},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#E6E6E6 "}}},series:c};this.initEcharts(a,f)}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("el-form",{ref:"dependenceform",attrs:{model:e.dependenceform,"label-width":"98px","label-position":"left",size:"small"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xl:8,lg:12}},[a("el-form-item",{attrs:{label:"Time interval:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.values,callback:function(t){e.values=t},expression:"values"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"main-content",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"todo-wrap",attrs:{shadow:"hover"}},[a("div",{staticClass:"todo-header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Number of transactions on the day")])]),e._v(" "),a("div",{staticClass:"todo-list"},[a("div",{directives:[{name:"cardSmallResize",rawName:"v-cardSmallResize",value:222,expression:"222"}],key:"serverTrue",ref:"boxThird"})])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"todo-wrap",attrs:{shadow:"hover"}},[a("div",{staticClass:"todo-header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Number of concurrent users")])]),e._v(" "),a("div",{staticClass:"todo-list"},[a("div",{directives:[{name:"cardSmallResize",rawName:"v-cardSmallResize",value:222,expression:"222"}],key:"serverTrue",ref:"boxFirst"})])])],1)],1),e._v(" "),a("el-row",{staticClass:"main-content",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"todo-wrap",attrs:{shadow:"hover"}},[a("div",{staticClass:"todo-header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("TPS")])]),e._v(" "),a("div",{staticClass:"todo-list"},[a("div",{directives:[{name:"cardSmallResize",rawName:"v-cardSmallResize",value:222,expression:"222"}],ref:"boxSecond"})])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"todo-wrap",attrs:{shadow:"hover"}},[a("div",{staticClass:"todo-header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Average response time(ms)")])]),e._v(" "),a("div",{staticClass:"todo-list"},[a("div",{directives:[{name:"cardSmallResize",rawName:"v-cardSmallResize",value:222,expression:"222"}],ref:"boxFour"})])])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"button-group"},[t("span",{staticClass:"route-name"},[this._v("Transaction monitoring")]),this._v(" "),t("span",[this._v("MbsdCore10006010(consumption)")])])}]};var d=a("VU/8")(l,r,!1,function(e){a("5L2y")},"data-v-184be44b",null);t.default=d.exports},"5L2y":function(e,t){}});